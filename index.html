
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nigeria DHS 2024 Data Explorer</title>
    <!-- React & ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    <!-- Prop-types -->
    <script src="https://unpkg.com/prop-types/prop-types.min.js"></script>
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Recharts -->
    <script src="https://unpkg.com/recharts@2.12.7/umd/Recharts.js"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        body { font-family: 'Inter', system-ui, -apple-system, sans-serif; background-color: #f8fafc; color: #1e293b; }
        .chart-container { width: 100%; height: 350px; }
        .fade-in { animation: fadeIn 0.4s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
        
        .sidebar-scroll::-webkit-scrollbar { width: 6px; }
        .sidebar-scroll::-webkit-scrollbar-track { background: #064e3b; }
        .sidebar-scroll::-webkit-scrollbar-thumb { background: #34d399; border-radius: 3px; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useMemo, useEffect } = React;
        const { 
            BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer, 
            PieChart, Pie, Cell, LineChart, Line, AreaChart, Area, LabelList, ComposedChart 
        } = Recharts;

        // --- THEME CONFIGURATION ---
        const COLORS = {
            primary: "#008751", // Nigeria Green
            secondary: "#ffffff",
            accent: "#eab308", // Yellow
            text: "#1f2937",
            charts: ["#008751", "#eab308", "#3b82f6", "#ef4444", "#8b5cf6", "#f97316"]
        };

        // --- ICONS WRAPPER ---
        const Icon = ({ name, size = 20, className = "" }) => {
            const icons = {
                Menu: <><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></>,
                Download: <><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" x2="12" y1="15" y2="3"/></>,
                Home: <><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></>,
                Users: <><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></>,
                Baby: <><path d="M9 12h.01"/><path d="M15 12h.01"/><path d="M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5"/><path d="M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.8 9 9 0 0 1-1.8 3.9 80 80 0 1 1-14 0A9 9 0 0 1 3.2 14 2 2 0 0 1 3.2 10.2 9 9 0 0 1 5 6.3 7 7 0 0 1 19 6.3Z"/></>,
                Activity: <path d="M22 12h-4l-3 9L9 3l-3 9H2"/>,
                Syringe: <><path d="m18 2 4 4"/><path d="m17 7 3-3"/><path d="M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5"/><path d="m9 11 4 4"/><path d="m5 19-3 3"/><path d="m14 4 6 6"/></>,
                Scale: <><path d="m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z"/><path d="m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z"/><path d="M7 21h10"/><path d="M12 3v18"/><path d="M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2"/></>,
                Droplet: <path d="M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z"/>,
                Shield: <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>,
                Heart: <path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/>,
                Book: <><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/></>,
                Zap: <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/>,
                ChevronRight: <path d="m9 18 6-6-6-6"/>,
                Search: <><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></>,
                Info: <><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></>
            };
            return (
                <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                    {icons[name] || icons.Activity}
                </svg>
            );
        };

        // --- CHAPTER DATA ENGINE ---
        const CHAPTER_DATA = {
            1: {
                id: 1,
                title: "Introduction & Methodology",
                icon: "Book",
                intro: "The 2024 Nigeria Demographic and Health Survey (NDHS) provides up-to-date estimates of basic demographic and health indicators. The survey, implemented by the NPC and FMOH, is designed to assist policymakers and program managers in monitoring and designing strategies to improve the health of the country.",
                subsections: ["1.1 Survey Objectives", "1.2 Sample Design", "1.3 Questionnaires", "1.4 Anthropometry & Testing", "1.9 Response Rates"],
                highlights: [
                    { label: "Households Selected", value: "42,000" },
                    { label: "Women Interviewed", value: "38,000+" },
                    { label: "Men Interviewed", value: "16,000+" },
                    { label: "States Covered", value: "36 + FCT" }
                ],
                charts: [
                    {
                        title: "Survey Response Rates (%)",
                        type: "bar",
                        data: [{name: "Households", value: 99}, {name: "Women", value: 97}, {name: "Men", value: 95}],
                        color: COLORS.primary
                    }
                ]
            },
            2: {
                id: 2,
                title: "Housing & Population",
                icon: "Home",
                intro: "This chapter provides a profile of the demographic and socioeconomic characteristics of the households in the 2024 NDHS sample. Information on housing characteristics (electricity, water, sanitation) helps assess the socioeconomic status of the population.",
                subsections: ["2.1 Housing Characteristics", "2.2 Household Wealth", "2.3 Population Composition", "2.6 Education"],
                highlights: [
                    { label: "Urban Population", value: "54%" },
                    { label: "Solid Fuel Usage", value: "70%" },
                    { label: "Electricity Access", value: "59%" },
                    { label: "School Attendance", value: "68%" }
                ],
                charts: [
                    {
                        title: "Access to Electricity by Residence",
                        type: "bar",
                        data: [{name: "Urban", value: 83}, {name: "Rural", value: 39}, {name: "National", value: 59}],
                        color: "#eab308"
                    },
                    {
                        title: "Population Age Structure",
                        type: "bar",
                        data: [{name: "0-14 yrs", value: 43}, {name: "15-64 yrs", value: 53}, {name: "65+ yrs", value: 4}],
                        color: "#3b82f6"
                    },
                    {
                        title: "Primary Reliance on Clean Fuels",
                        type: "pie",
                        data: [{name: "Clean Fuels", value: 30}, {name: "Solid Fuels", value: 70}]
                    }
                ]
            },
            3: {
                id: 3,
                title: "Respondent Characteristics",
                icon: "Users",
                intro: "Profiles the background characteristics of the women and men interviewed, including age, marital status, education, religion, and ethnicity. This context is crucial for interpreting demographic and health findings.",
                subsections: ["3.1 Background", "3.2 Education & Literacy", "3.3 Media Exposure", "3.4 Employment"],
                highlights: [
                    { label: "Women Literate", value: "52%" },
                    { label: "Men Literate", value: "71%" },
                    { label: "Internet Use (W)", value: "45%" }
                ],
                charts: [
                    {
                        title: "Educational Attainment (Women 15-49)",
                        type: "pie",
                        data: [{name: "No Education", value: 35}, {name: "Primary", value: 18}, {name: "Secondary", value: 38}, {name: "Higher", value: 9}]
                    },
                    {
                        title: "Internet Usage by Wealth Quintile",
                        type: "line",
                        data: [
                            {name: "Lowest", value: 8}, {name: "Second", value: 15}, {name: "Middle", value: 32}, 
                            {name: "Fourth", value: 58}, {name: "Highest", value: 89}
                        ],
                        color: "#8b5cf6"
                    }
                ]
            },
            4: {
                id: 4,
                title: "Marriage & Sexual Activity",
                icon: "Users",
                intro: "Marriage and sexual activity are key determinants of fertility. This chapter presents data on marital status, polygyny, age at first marriage, and age at first sexual intercourse.",
                subsections: ["4.1 Marital Status", "4.3 Polygyny", "4.4 Age at First Marriage", "4.6 Recent Sexual Activity"],
                highlights: [
                    { label: "Median Age (Marriage)", value: "19.2" },
                    { label: "Polygyny Rate", value: "28%" },
                    { label: "Never Married (W)", value: "25%" }
                ],
                charts: [
                    {
                        title: "Marital Status Distribution (Women)",
                        type: "pie",
                        data: [{name: "Never Married", value: 25}, {name: "Married", value: 65}, {name: "Living Together", value: 4}, {name: "Widowed/Div", value: 6}]
                    },
                    {
                        title: "Median Age at First Sexual Intercourse",
                        type: "bar",
                        data: [{name: "Women", value: 17.2}, {name: "Men", value: 21.4}],
                        color: "#f43f5e",
                        unit: "",
                        domain: [0, 25]
                    }
                ]
            },
            5: {
                id: 5,
                title: "Fertility",
                icon: "Baby",
                intro: "Fertility data is collected to analyze trends, age-specific fertility rates, and the proximate determinants of fertility. The Total Fertility Rate (TFR) is a key outcome measure.",
                subsections: ["5.1 Current Fertility", "5.2 Children Ever Born", "5.3 Birth Intervals", "5.8 Teenage Pregnancy"],
                highlights: [
                    { label: "Total Fertility Rate", value: "5.3" },
                    { label: "Teenage Pregnancy", value: "19%" },
                    { label: "Urban TFR", value: "4.5" }
                ],
                charts: [
                    {
                        title: "Total Fertility Rate by Zone",
                        type: "bar",
                        data: [
                            { name: "North Central", value: 4.9 }, { name: "North East", value: 6.2 }, 
                            { name: "North West", value: 6.6 }, { name: "South East", value: 4.2 }, 
                            { name: "South South", value: 3.9 }, { name: "South West", value: 3.7 }
                        ],
                        color: COLORS.primary,
                        unit: "",
                        domain: [0, 8]
                    },
                    {
                        title: "Fertility Trends (2013-2024)",
                        type: "line",
                        data: [{name: "2013", value: 5.5}, {name: "2018", value: 5.3}, {name: "2024", value: 5.3}],
                        color: "#008751",
                        unit: "",
                        domain: [0, 8]
                    }
                ]
            },
            6: {
                id: 6,
                title: "Fertility Preferences",
                icon: "Heart",
                intro: "Information on desire for more children, ideal family size, and gender preference helps forecast future fertility needs and demand for family planning.",
                subsections: ["6.1 Desire for Another Child", "6.2 Ideal Family Size", "6.3 Planning Status"],
                highlights: [
                    { label: "Ideal Family Size", value: "6.1" },
                    { label: "Want No More", value: "24%" },
                    { label: "Unwanted Births", value: "7%" }
                ],
                charts: [
                    {
                        title: "Fertility Planning Status",
                        type: "pie",
                        data: [{name: "Wanted Then", value: 75}, {name: "Wanted Later", value: 18}, {name: "Not Wanted", value: 7}]
                    },
                    {
                        title: "Ideal Family Size by Wealth",
                        type: "bar",
                        data: [{name: "Lowest", value: 7.5}, {name: "Highest", value: 4.2}],
                        color: "#8b5cf6",
                        unit: "",
                        domain: [0, 10]
                    }
                ]
            },
            7: {
                id: 7,
                title: "Family Planning",
                icon: "Shield",
                intro: "Assessments of knowledge and use of contraceptive methods, sources of supply, and unmet need for family planning services.",
                subsections: ["7.1 Contraceptive Knowledge", "7.2 Source of Methods", "7.5 Demand for FP"],
                highlights: [
                    { label: "Modern CPR", value: "18%" },
                    { label: "Unmet Need", value: "19%" },
                    { label: "Demand Satisfied", value: "48%" }
                ],
                charts: [
                    {
                        title: "Contraceptive Use Mix",
                        type: "pie",
                        data: [{name: "Modern Method", value: 18}, {name: "Traditional", value: 6}, {name: "No Method", value: 76}]
                    },
                    {
                        title: "Source of Modern Methods",
                        type: "bar",
                        data: [{name: "Public Sector", value: 62}, {name: "Private Medical", value: 28}, {name: "Other", value: 10}],
                        color: "#0ea5e9"
                    }
                ]
            },
            8: {
                id: 8,
                title: "Infant & Child Mortality",
                icon: "Activity",
                intro: "Estimates of levels, trends, and differentials in neonatal, postneonatal, infant, child, and under-5 mortality rates.",
                subsections: ["8.1 Mortality Levels", "8.2 Perinatal Mortality", "8.3 High-risk Fertility"],
                highlights: [
                    { label: "Under-5 Mortality", value: "110" },
                    { label: "Infant Mortality", value: "63" },
                    { label: "Neonatal Mortality", value: "39" }
                ],
                charts: [
                    {
                        title: "Childhood Mortality Rates (per 1,000 live births)",
                        type: "bar",
                        data: [{name: "Neonatal", value: 39}, {name: "Infant", value: 63}, {name: "Under-5", value: 110}],
                        color: "#ef4444",
                        unit: "",
                        domain: [0, 120]
                    }
                ]
            },
            9: {
                id: 9,
                title: "Maternal Health",
                icon: "Activity",
                intro: "Indicators regarding antenatal care (ANC), delivery services, and postnatal care (PNC) for women and newborns.",
                subsections: ["9.1 Antenatal Care", "9.4 Delivery Services", "9.6 Postnatal Care"],
                highlights: [
                    { label: "ANC 4+ Visits", value: "67%" },
                    { label: "Facility Delivery", value: "51%" },
                    { label: "Skilled Attendant", value: "55%" }
                ],
                charts: [
                    {
                        title: "Place of Delivery",
                        type: "bar",
                        data: [{name: "Health Facility", value: 51}, {name: "Home", value: 48}, {name: "Other", value: 1}],
                        color: "#8b5cf6"
                    },
                    {
                        title: "Assistance During Delivery",
                        type: "pie",
                        data: [{name: "Skilled Provider", value: 55}, {name: "Unskilled", value: 40}, {name: "None", value: 5}]
                    }
                ]
            },
            10: {
                id: 10,
                title: "Child Health",
                icon: "Syringe",
                intro: "Information on birth weight, vaccination status, and the prevalence and treatment of common childhood illnesses (ARI, Fever, Diarrhea).",
                subsections: ["10.2 Vaccination", "10.3 ARI Symptoms", "10.4 Fever", "10.5 Diarrhea"],
                highlights: [
                    { label: "Basic Vaccination", value: "58%" },
                    { label: "Fever Prevalence", value: "18%" },
                    { label: "Diarrhea Treated", value: "65%" }
                ],
                charts: [
                    {
                        title: "Vaccination Coverage (12-23 mos)",
                        type: "bar",
                        data: [{name: "BCG", value: 75}, {name: "DPT3", value: 58}, {name: "Measles", value: 62}, {name: "All Basic", value: 41}],
                        color: "#3b82f6"
                    },
                    {
                        title: "Treatment Seeking for Illness",
                        type: "bar",
                        data: [{name: "Fever", value: 65}, {name: "ARI", value: 55}, {name: "Diarrhea", value: 48}],
                        color: "#f59e0b"
                    }
                ]
            },
            11: {
                id: 11,
                title: "Nutrition",
                icon: "Scale",
                intro: "Nutritional status of children (anthropometry) and women, infant and young child feeding (IYCF) practices, and micronutrient intake.",
                subsections: ["11.1 Child Nutrition", "11.3 IYCF Practices", "11.7 Women's Nutrition"],
                highlights: [
                    { label: "Stunting (U5)", value: "37%" },
                    { label: "Wasting (U5)", value: "7%" },
                    { label: "Exclusive BF", value: "29%" }
                ],
                charts: [
                    {
                        title: "Nutritional Status (Children Under 5)",
                        type: "bar",
                        data: [{name: "Stunting", value: 37}, {name: "Wasting", value: 7}, {name: "Underweight", value: 22}],
                        color: "#eab308"
                    },
                    {
                        title: "Breastfeeding Practices",
                        type: "pie",
                        data: [{name: "Exclusive (0-5m)", value: 29}, {name: "Mixed/Other", value: 71}]
                    }
                ]
            },
            12: {
                id: 12,
                title: "Malaria",
                icon: "Droplet",
                intro: "Ownership and use of Insecticide-Treated Nets (ITNs), Intermittent Preventive Treatment in pregnancy (IPTp), and treatment of fever in children.",
                subsections: ["12.1 ITN Ownership", "12.3 ITN Use", "12.5 Malaria in Pregnancy"],
                highlights: [
                    { label: "ITN Ownership", value: "72%" },
                    { label: "ITN Usage", value: "50%" },
                    { label: "IPTp (2+ doses)", value: "61%" }
                ],
                charts: [
                    {
                        title: "ITN Ownership vs Usage",
                        type: "bar",
                        data: [{name: "Ownership", value: 72}, {name: "Usage", value: 50}],
                        color: "#059669"
                    },
                    {
                        title: "Source of ITNs",
                        type: "pie",
                        data: [{name: "Campaign", value: 75}, {name: "ANC Visit", value: 15}, {name: "Market", value: 10}]
                    }
                ]
            },
            13: {
                id: 13,
                title: "HIV/AIDS Knowledge",
                icon: "Shield",
                intro: "Knowledge of HIV transmission, comprehensive knowledge levels, stigma, and uptake of HIV testing services.",
                subsections: ["13.1 Knowledge & Attitudes", "13.2 Stigma", "13.4 HIV Testing"],
                highlights: [
                    { label: "Knows Prevention", value: "74%" },
                    { label: "Ever Tested", value: "35%" },
                    { label: "Accepting Attitude", value: "45%" }
                ],
                charts: [
                    {
                        title: "Knowledge of Prevention Methods",
                        type: "bar",
                        data: [{name: "Use Condoms", value: 72}, {name: "Limit Partners", value: 81}, {name: "Healthy can have HIV", value: 68}],
                        color: "#db2777"
                    }
                ]
            },
            14: {
                id: 14,
                title: "Disability",
                icon: "Activity",
                intro: "Prevalence of disability across six domains: seeing, hearing, communicating, remembering/concentrating, walking/climbing steps, and self-care.",
                subsections: ["14.1 Disability by Domain", "14.2 Disability by Background"],
                highlights: [
                    { label: "Any Difficulty", value: "8%" },
                    { label: "Visual Difficulty", value: "4%" },
                    { label: "Walking Difficulty", value: "3%" }
                ],
                charts: [
                    {
                        title: "Prevalence of Disability by Domain",
                        type: "bar",
                        data: [{name: "Seeing", value: 4}, {name: "Hearing", value: 2}, {name: "Walking", value: 3}, {name: "Cognitive", value: 1}],
                        color: "#6b7280"
                    }
                ]
            },
            15: {
                id: 15,
                title: "Women's Empowerment",
                icon: "Users",
                intro: "Indicators of women's empowerment including employment, earnings, control over assets, and participation in household decision making.",
                subsections: ["15.1 Employment", "15.5 Asset Ownership", "15.6 Decision Making"],
                highlights: [
                    { label: "Owns House/Land", value: "22%" },
                    { label: "Decides Health", value: "54%" },
                    { label: "Employed", value: "66%" }
                ],
                charts: [
                    {
                        title: "Participation in Decision Making (Women)",
                        type: "bar",
                        data: [{name: "Own Health", value: 54}, {name: "HH Purchases", value: 48}, {name: "Family Visits", value: 62}],
                        color: "#9333ea"
                    }
                ]
            },
            16: {
                id: 16,
                title: "WASH",
                icon: "Droplet",
                intro: "Information on drinking water sources, sanitation facilities, and handwashing practices, which are crucial for preventing disease.",
                subsections: ["16.1 Water Sources", "16.2 Sanitation", "16.4 Handwashing"],
                highlights: [
                    { label: "Basic Water", value: "68%" },
                    { label: "Basic Sanitation", value: "52%" },
                    { label: "Open Defecation", value: "19%" }
                ],
                charts: [
                    {
                        title: "Sanitation Facilities Distribution",
                        type: "pie",
                        data: [{name: "Improved", value: 52}, {name: "Unimproved", value: 29}, {name: "Open Defecation", value: 19}]
                    }
                ]
            },
            17: {
                id: 17,
                title: "Domestic Violence",
                icon: "Shield",
                intro: "Prevalence of physical, sexual, and emotional violence experienced by women, usually perpetrated by a current or former partner.",
                subsections: ["17.2 Physical Violence", "17.3 Sexual Violence", "17.8 Help Seeking"],
                highlights: [
                    { label: "Physical Violence", value: "28%" },
                    { label: "Sexual Violence", value: "6%" },
                    { label: "Emotional Violence", value: "24%" }
                ],
                charts: [
                    {
                        title: "Experience of Violence (Women 15-49)",
                        type: "bar",
                        data: [{name: "Physical", value: 28}, {name: "Sexual", value: 6}, {name: "Emotional", value: 24}],
                        color: "#be123c"
                    }
                ]
            },
            18: {
                id: 18,
                title: "Female Genital Mutilation",
                icon: "Activity",
                intro: "Prevalence of female genital mutilation (FGM/C), age at circumcision, and attitudes towards discontinuing the practice.",
                subsections: ["18.1 Knowledge of FGM", "18.2 Prevalence", "18.6 Attitudes"],
                highlights: [
                    { label: "Prevalence (15-49)", value: "15%" },
                    { label: "Circumcised <5y", value: "8%" },
                    { label: "Support Ending", value: "78%" }
                ],
                charts: [
                    {
                        title: "FGM Prevalence by Age Group",
                        type: "bar",
                        data: [{name: "15-19", value: 9}, {name: "20-29", value: 14}, {name: "30-39", value: 18}, {name: "40-49", value: 22}],
                        color: "#b45309"
                    }
                ]
            },
            19: {
                id: 19,
                title: "NCDs & Other Health",
                icon: "Activity",
                intro: "Data on non-communicable diseases such as hypertension and diabetes, as well as awareness and vaccination status regarding COVID-19.",
                subsections: ["19.1 Blood Pressure", "19.3 Tuberculosis", "19.4 COVID-19"],
                highlights: [
                    { label: "High BP Prevalence", value: "28%" },
                    { label: "Heard of COVID", value: "98%" },
                    { label: "COVID Vaccinated", value: "24%" }
                ],
                charts: [
                    {
                        title: "COVID-19 Awareness & Action",
                        type: "bar",
                        data: [{name: "Heard of it", value: 98}, {name: "Vaccinated", value: 24}],
                        color: "#0f766e"
                    }
                ]
            }
        };

        // --- COMPONENTS ---

        const CustomTooltip = ({ active, payload, label, unit }) => {
            if (active && payload && payload.length) {
                return (
                    <div className="bg-white p-3 border border-gray-100 shadow-lg rounded-lg text-sm">
                        <p className="font-bold text-gray-800 mb-1">{label}</p>
                        {payload.map((entry, index) => (
                            <p key={index} className="flex items-center space-x-2" style={{ color: entry.color }}>
                                <span className="w-2 h-2 rounded-full" style={{ backgroundColor: entry.color }}></span>
                                <span>{entry.name}: <b>{entry.value}{unit}</b></span>
                            </p>
                        ))}
                    </div>
                );
            }
            return null;
        };

        const ChartRenderer = ({ config }) => {
            if (!config) return null;
            
            const unit = config.unit !== undefined ? config.unit : "%";
            const domain = config.domain || [0, 100];

            const ChartWrapper = ({ children }) => (
                <div className="bg-white p-6 rounded-xl shadow-sm border border-gray-100 mb-6 hover:shadow-md transition-shadow">
                    <h3 className="text-lg font-bold text-gray-800 mb-6 border-l-4 border-green-500 pl-3">{config.title}</h3>
                    <div className="chart-container">
                        <ResponsiveContainer width="100%" height="100%">
                            {children}
                        </ResponsiveContainer>
                    </div>
                </div>
            );

            if (config.type === 'bar') {
                return (
                    <ChartWrapper>
                        <BarChart data={config.data} margin={{top: 20, right: 30, left: 0, bottom: 5}}>
                            <CartesianGrid strokeDasharray="3 3" vertical={false} stroke="#e2e8f0" />
                            <XAxis dataKey="name" axisLine={false} tickLine={false} tick={{fontSize: 12}} dy={10} interval={0} />
                            <YAxis axisLine={false} tickLine={false} domain={domain} tickFormatter={(val) => `${val}${unit}`} width={40} />
                            <Tooltip content={<CustomTooltip unit={unit} />} cursor={{fill: '#f0fdf4'}} />
                            <Bar dataKey="value" fill={config.color || COLORS.primary} radius={[4, 4, 0, 0]} barSize={50} animationDuration={1000}>
                                <LabelList dataKey="value" position="top" formatter={(val) => `${val}${unit}`} style={{ fill: '#4b5563', fontSize: '12px', fontWeight: 'bold' }} />
                            </Bar>
                        </BarChart>
                    </ChartWrapper>
                );
            }
            if (config.type === 'line') {
                return (
                    <ChartWrapper>
                        <LineChart data={config.data} margin={{top: 20, right: 30, left: 10, bottom: 5}}>
                            <CartesianGrid strokeDasharray="3 3" vertical={false} stroke="#e2e8f0" />
                            <XAxis dataKey="name" axisLine={false} tickLine={false} dy={10} />
                            <YAxis axisLine={false} tickLine={false} domain={domain} tickFormatter={(val) => `${val}${unit}`} width={40} />
                            <Tooltip content={<CustomTooltip unit={unit} />} />
                            <Line type="monotone" dataKey="value" stroke={config.color || COLORS.primary} strokeWidth={3} dot={{r: 4, strokeWidth: 2}} activeDot={{r: 6}} animationDuration={1000} />
                        </LineChart>
                    </ChartWrapper>
                );
            }
            if (config.type === 'pie') {
                return (
                    <ChartWrapper>
                        <PieChart>
                            <Pie
                                data={config.data}
                                cx="50%"
                                cy="50%"
                                innerRadius={70}
                                outerRadius={110}
                                paddingAngle={5}
                                dataKey="value"
                                animationDuration={1000}
                            >
                                {config.data.map((entry, index) => (
                                    <Cell key={`cell-${index}`} fill={COLORS.charts[index % COLORS.charts.length]} />
                                ))}
                            </Pie>
                            <Tooltip />
                            <Legend verticalAlign="bottom" height={36} iconType="circle"/>
                        </PieChart>
                    </ChartWrapper>
                );
            }
            return null;
        };

        const Sidebar = ({ activeId, onSelect, isOpen, setIsOpen }) => (
            <div className={`fixed inset-y-0 left-0 z-40 w-72 bg-green-900 text-white transform transition-transform duration-300 ease-in-out ${isOpen ? 'translate-x-0' : '-translate-x-full'} lg:translate-x-0 lg:static lg:inset-auto shadow-2xl flex flex-col`}>
                <div className="p-6 border-b border-green-800 bg-green-950 flex flex-col">
                    <h2 className="text-2xl font-bold tracking-tight text-white">NDHS Explorer</h2>
                    <p className="text-green-400 text-xs mt-1 font-medium tracking-wider">FULL 2024 REPORT</p>
                </div>
                <nav className="flex-1 overflow-y-auto sidebar-scroll p-4 space-y-1">
                    <button
                        onClick={() => { onSelect('home'); setIsOpen(false); }}
                        className={`w-full text-left px-4 py-3 rounded-lg flex items-center space-x-3 transition-all mb-4 ${activeId === 'home' ? 'bg-white text-green-900 shadow-md font-bold' : 'text-green-100 hover:bg-green-800 hover:text-white'}`}
                    >
                        <Icon name="Home" size={18} />
                        <span>Executive Summary</span>
                    </button>
                    <div className="px-4 py-2 text-xs font-bold text-green-400 uppercase tracking-wider opacity-80">All Chapters</div>
                    {Object.values(CHAPTER_DATA).map(chapter => (
                        <button
                            key={chapter.id}
                            onClick={() => { onSelect(chapter.id); setIsOpen(false); }}
                            className={`w-full text-left px-4 py-2.5 rounded-lg flex items-center space-x-3 transition-all text-sm group ${activeId === chapter.id ? 'bg-green-700 text-white shadow font-semibold translate-x-1' : 'text-green-100 hover:bg-green-800/50 hover:text-white'}`}
                        >
                            <span className={`flex-shrink-0 w-6 h-6 flex items-center justify-center rounded text-xs ${activeId === chapter.id ? 'bg-green-600' : 'bg-green-800 group-hover:bg-green-700'}`}>{chapter.id}</span>
                            <span className="truncate">{chapter.title}</span>
                        </button>
                    ))}
                </nav>
                <div className="p-4 bg-green-950 border-t border-green-800 text-[10px] text-green-400 text-center">
                    <a href="https://dhsprogram.com/methodology/survey/survey-display-609.cfm" target="_blank" rel="noopener noreferrer" className="hover:text-green-300 underline">Data Source</a>: Nigeria DHS 2024 Final Report<br/>NPC, FMOH, USAID, ICF
                </div>
            </div>
        );

        const LandingView = ({ onNavigate }) => (
            <div className="space-y-8 fade-in">
                <div className="bg-gradient-to-r from-green-700 to-green-600 rounded-2xl p-8 sm:p-12 text-white shadow-xl relative overflow-hidden">
                    <div className="absolute top-0 right-0 opacity-10 transform translate-x-1/4 -translate-y-1/4">
                        <Icon name="Activity" size={400} />
                    </div>
                    <div className="relative z-10">
                        <div className="inline-block px-3 py-1 bg-green-800 rounded-full text-xs font-semibold mb-4 border border-green-500">OFFICIAL DATA RELEASE</div>
                        <h1 className="text-4xl sm:text-5xl font-extrabold mb-4 tracking-tight">Nigeria Demographic and<br/>Health Survey 2024</h1>
                        <p className="text-green-100 text-lg max-w-2xl mb-8 leading-relaxed">
                            Explore comprehensive data on population, health, and nutrition from the 2024 NDHS. 
                            This tool provides interactive access to key indicators from all 19 chapters of the final report.
                        </p>
                        <div className="flex flex-wrap gap-4">
                            <button onClick={() => onNavigate(1)} className="bg-white text-green-700 px-6 py-3 rounded-lg font-bold hover:bg-green-50 transition-all shadow-lg flex items-center transform hover:-translate-y-1">
                                Start Exploring <Icon name="ChevronRight" size={20} className="ml-2"/>
                            </button>
                        </div>
                    </div>
                </div>

                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                    {[
                        { label: "Households Surveyed", value: "42,000", icon: "Home", color: "bg-blue-500", sub: "Nationally Representative" },
                        { label: "Fertility Rate", value: "5.3", icon: "Baby", color: "bg-pink-500", sub: "Children per Woman" },
                        { label: "Basic Vaccination", value: "58%", icon: "Syringe", color: "bg-purple-500", sub: "Children 12-23 mos" },
                        { label: "U5 Mortality", value: "110", icon: "Activity", color: "bg-red-500", sub: "Deaths per 1,000 births" }
                    ].map((stat, idx) => (
                        <div key={idx} className="bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex items-start space-x-4 hover:shadow-md transition-shadow cursor-default group">
                            <div className={`${stat.color} p-3 rounded-xl text-white shadow-md group-hover:scale-110 transition-transform`}>
                                <Icon name={stat.icon} size={24} />
                            </div>
                            <div>
                                <h3 className="text-3xl font-bold text-gray-900">{stat.value}</h3>
                                <p className="text-sm font-semibold text-gray-700">{stat.label}</p>
                                <p className="text-xs text-gray-400 mt-1">{stat.sub}</p>
                            </div>
                        </div>
                    ))}
                </div>

                <div className="bg-white rounded-xl shadow-sm border border-gray-100 p-8">
                    <div className="flex justify-between items-end mb-6">
                        <div>
                            <h3 className="text-xl font-bold text-gray-900">Regional Disparities: Fertility</h3>
                            <p className="text-sm text-gray-500 mt-1">Total Fertility Rate (TFR) by Geopolitical Zone</p>
                        </div>
                        <div className="hidden sm:block text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded">Chapter 5 Data</div>
                    </div>
                    <div className="h-72 w-full">
                        <ResponsiveContainer width="100%" height="100%">
                             <BarChart data={CHAPTER_DATA[5].charts[0].data} margin={{top: 20, right: 30, left: 20, bottom: 5}}>
                                <CartesianGrid strokeDasharray="3 3" vertical={false} stroke="#e2e8f0" />
                                <XAxis dataKey="name" axisLine={false} tickLine={false} tick={{fontSize: 12}} dy={10} />
                                <YAxis axisLine={false} tickLine={false} width={30} domain={[0, 8]} />
                                <Tooltip cursor={{fill: '#f0fdf4'}} />
                                <Bar dataKey="value" fill="#008751" radius={[4, 4, 0, 0]} barSize={60}>
                                    <LabelList dataKey="value" position="top" style={{fontWeight: 'bold', fill: '#374151'}} />
                                </Bar>
                            </BarChart>
                        </ResponsiveContainer>
                    </div>
                </div>
            </div>
        );

        const ChapterView = ({ chapter }) => {
            if (!chapter) return null;

            return (
                <div className="space-y-8 fade-in">
                    {/* Header Card */}
                    <div className="bg-white p-8 rounded-xl shadow-sm border border-gray-100 border-l-8 border-green-600 relative overflow-hidden">
                        <div className="absolute top-0 right-0 p-8 opacity-5 text-green-900">
                             <Icon name={chapter.icon} size={120} />
                        </div>
                        <div className="relative z-10">
                            <div className="flex items-center space-x-3 mb-4">
                                <span className="bg-green-100 text-green-800 text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wider">Chapter {chapter.id}</span>
                            </div>
                            <h1 className="text-3xl md:text-4xl font-bold text-gray-900 mb-4">{chapter.title}</h1>
                            <p className="text-gray-600 text-lg leading-relaxed max-w-4xl">{chapter.intro}</p>
                        </div>
                        
                        {/* Subsections List */}
                        {chapter.subsections && (
                            <div className="mt-8 pt-6 border-t border-gray-100">
                                <p className="text-xs font-bold text-gray-400 uppercase tracking-wider mb-3">Key Topics</p>
                                <div className="flex flex-wrap gap-2">
                                    {chapter.subsections.map((sub, i) => (
                                        <span key={i} className="inline-flex items-center px-3 py-1 rounded-md bg-gray-50 text-gray-600 text-sm font-medium border border-gray-200">
                                            {sub}
                                        </span>
                                    ))}
                                </div>
                            </div>
                        )}
                    </div>

                    {/* Highlights Grid */}
                    {chapter.highlights && (
                        <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
                            {chapter.highlights.map((h, i) => (
                                <div key={i} className="bg-white p-5 rounded-xl border border-gray-200 shadow-sm flex flex-col justify-center items-center text-center hover:border-green-300 transition-colors">
                                    <p className="text-3xl font-extrabold text-green-700">{h.value}</p>
                                    <p className="text-xs font-semibold text-gray-500 uppercase mt-1">{h.label}</p>
                                </div>
                            ))}
                        </div>
                    )}

                    {/* Dynamic Charts Section */}
                    {chapter.charts && chapter.charts.length > 0 ? (
                        <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
                            {chapter.charts.map((chartConfig, idx) => (
                                <ChartRenderer key={idx} config={chartConfig} />
                            ))}
                        </div>
                    ) : (
                        <div className="bg-gray-50 rounded-xl p-12 text-center border-2 border-dashed border-gray-200">
                            <Icon name="Info" size={48} className="mx-auto text-gray-300 mb-4" />
                            <h3 className="text-lg font-medium text-gray-500">No charts available for this chapter</h3>
                            <p className="text-gray-400">Refer to the full PDF report for detailed tables.</p>
                        </div>
                    )}
                </div>
            );
        };

        const App = () => {
            const [activeId, setActiveId] = useState('home');
            const [sidebarOpen, setSidebarOpen] = useState(false);

            const activeChapter = useMemo(() => CHAPTER_DATA[activeId], [activeId]);

            // Scroll to top on navigation
            useEffect(() => {
                const mainContent = document.getElementById('main-content');
                if (mainContent) mainContent.scrollTop = 0;
            }, [activeId]);

            return (
                <div className="min-h-screen flex flex-col lg:flex-row bg-[#f1f5f9]">
                    {/* Mobile Overlay */}
                    {sidebarOpen && (
                        <div 
                            className="fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden backdrop-blur-sm"
                            onClick={() => setSidebarOpen(false)}
                        ></div>
                    )}

                    <Sidebar 
                        activeId={activeId} 
                        onSelect={setActiveId} 
                        isOpen={sidebarOpen} 
                        setIsOpen={setSidebarOpen} 
                    />

                    <div className="flex-1 flex flex-col min-w-0 h-screen overflow-hidden">
                        {/* Header */}
                        <header className="bg-white border-b border-gray-200 h-16 flex items-center justify-between px-4 sm:px-8 z-20 shadow-sm flex-shrink-0">
                            <div className="flex items-center">
                                <button className="lg:hidden p-2 -ml-2 mr-2 text-gray-600 hover:bg-gray-100 rounded-md" onClick={() => setSidebarOpen(true)}>
                                    <Icon name="Menu" />
                                </button>
                                <span className="font-bold text-gray-800 text-lg hidden sm:block tracking-tight">Nigeria 2024 DHS Explorer</span>
                                <span className="font-bold text-gray-800 text-lg sm:hidden">NDHS 2024</span>
                            </div>
                            <div className="flex items-center space-x-4">
                                <a href="./ndhs.pdf" download className="hidden md:inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium bg-green-100 text-green-800 border border-green-200 hover:bg-green-200 transition-colors cursor-pointer">
                                    <Icon name="Download" size={14} />
                                    Download Report
                                </a>
                            </div>
                        </header>

                        {/* Main Content Area */}
                        <main id="main-content" className="flex-1 overflow-y-auto p-4 sm:p-8 scroll-smooth bg-[#f8fafc]">
                            <div className="max-w-7xl mx-auto pb-12">
                                {activeId === 'home' ? (
                                    <LandingView onNavigate={setActiveId} />
                                ) : (
                                    <ChapterView chapter={activeChapter} />
                                )}
                            </div>
                        </main>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>